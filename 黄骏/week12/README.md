# 项目背景

随着企业规模的不断扩大和业务复杂度的日益提升，企业内部信息孤岛问题日益凸显。员工在日常工作中需要频繁查询各类企业信息，包括但不限于：
- 制度规范：人事制度、财务流程、行政规定等
- 业务数据：产品信息、客户资料、项目文档
- 技术资料：API文档、技术规范、操作手册
- 组织信息：部门架构、员工联系方式、职责分工

传统的信息查询方式存在响应慢、信息分散、准确性难以保证等问题，严重影响了员工的工作效率和决策质量。为此，我们计划构建一个智能化的企业内部信息助手，通过统一的对话界面为员工提供准确、及时的信息服务。


# 项目任务

本项目的主要任务是开发一个基于人工智能技术的企业内部信息助手系统。该系统需要构建一个能够理解自然语言对话的智能交互平台，让员工可以通过日常语言方式提出信息查询需求。系统需要集成企业现有的各类信息资源和业务系统，包括但不限于知识库管理系统、客户关系管理系统、人力资源系统、项目管理系统等，通过统一的接口实现信息资源的整合与调用。


系统应当提供灵活的工具调用机制，支持员工根据具体需求选择和使用特定的查询工具或业务工具。同时，系统需要确保信息的安全性，建立完善的权限管理体系，确保员工只能访问其权限范围内的信息资源。此外，系统还应具备良好的扩展性，能够随着企业业务发展而灵活增加新的功能模块和数据源，为企业长期数字化建设奠定坚实基础。



# 项目组成

┌─────────────────┐    ┌──────────────────┐    ┌─────────────────┐
│  前端对话界面   │───▶│   FastAPI后端    │───▶│  OpenAI Agent   │
└─────────────────┘    └──────────────────┘    └─────────────────┘
                              │                         │
                              ▼                         ▼
                    ┌──────────────────┐    ┌─────────────────┐
                    │   FastMCP工具管理  │◀──▶│   工具执行引擎   │
                    └──────────────────┘    └─────────────────┘

# 实现过程

1. 设计项目框架，确定组成模块和功能划分。
3. 开发后端服务 并 集成到 FastMCP Server
4. 编写MCP Host调用与主要业务逻辑
5. 通过界面展示企业助手。


## 可用工具

- **News-MCP-Server**：今日新闻、抖音/头条热点、GitHub 趋势、电竞新闻等查询。
- **Tools-MCP-Server**：天气、地址解析、手机号归属、景区搜索、花语、汇率转换等实用工具。
- **Saying-MCP-Server**：每日格言/鸡汤等轻量内容。
- **Sentiment-MCP-Server**：新增的情感分析工具，通过关键词词典对文本做正向/负向/中性判断，并返回命中的关键线索。

## tool_filter 策略

为了避免大模型胡乱调度工具，前端增加了 `tool_filter` 逻辑，当检测到用户意图时，只向 Agent 暴露特定工具集合：

- 输入包含“新闻/news”时，仅开放 News 工具；
- 输入包含“工具/tool”时，仅开放 Tools 工具；
- 输入提到“情感/情绪/sentiment”时，仅开放情感分析工具；
- 其他情况保持默认，Agent 可以自主在所有接入工具间选择。

当 Streamlit 页面左侧勾选“使用工具”后，系统会同步显示当前的工具调度策略，便于排查调用链路。
