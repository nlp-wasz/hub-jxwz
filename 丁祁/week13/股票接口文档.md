

## 📈 自选股管理 API 接口文档

该文档描述了用户自选股（收藏股票）管理相关的 RESTful API 接口，所有接口都通过一个 **FastAPI `APIRouter`** 进行定义，基础路径为 `/v1/stock`。

### 📌 基本响应结构

所有接口的返回数据都遵循统一的 `BasicResponse` 结构（假设）：

| 字段 | 类型 | 描述 |
| :--- | :--- | :--- |
| **`code`** | `int` | 状态码，例如 `200` 表示成功，`404` 表示服务器/异常错误。 |
| **`message`** | `str` | 描述信息，成功或失败的原因。 |
| **`data`** | `list` / `dict` / `None` | 返回的具体数据（例如股票列表），成功时返回。 |

---

### 🌟 1. 获取用户所有自选股 (`/list_fav_stock`)

| 属性 | 描述 |
| :--- | :--- |
| **方法** | `POST` |
| **路径** | `/v1/stock/list_fav_stock` |
| **功能** | 获取指定用户收藏的所有股票代码列表或详细信息。 |

#### 请求体

* **参数类型**: **查询参数或请求体字段** (接收一个名为 `user_name` 的参数)。
* **字段**: `user_name` (`str`) - 要查询的用户名。

#### 响应状态码

| Code | Message (示例) | Data (示例) | 描述 |
| :--- | :--- | :--- | :--- |
| `200` | `"获取用户所有股票成功"` | `["000001.SZ", "600519.SH"]` | 成功返回用户的自选股列表。 |
| `404` | *Traceback* | `[]` | 异常错误。 |

---

### ➕ 2. 添加自选股 (`/add_fav_stock`)

| 属性 | 描述 |
| :--- | :--- |
| **方法** | `POST` |
| **路径** | `/v1/stock/add_fav_stock` |
| **功能** | 为指定用户添加一支股票到自选股列表。 |

#### 请求体

* **参数类型**: **查询参数或请求体字段** (接收 `user_name` 和 `stock_code` 两个参数)。
* **字段**:
    * **`user_name`** (`str`) - 用户名。
    * **`stock_code`** (`str`) - 要添加的股票代码。

#### 响应状态码

| Code | Message (示例) | 描述 |
| :--- | :--- | :--- |
| `200` | `"添加成功"` | 股票成功添加到自选股。 |
| `404` | *Traceback* | 异常错误。 |

---

### ➖ 3. 删除自选股 (`/del_fav_stock`)

| 属性 | 描述 |
| :--- | :--- |
| **方法** | `POST` |
| **路径** | `/v1/stock/del_fav_stock` |
| **功能** | 从指定用户的自选股列表中删除一支股票。 |

#### 请求体

* **参数类型**: **查询参数或请求体字段** (接收 `user_name` 和 `stock_code` 两个参数)。
* **字段**:
    * **`user_name`** (`str`) - 用户名。
    * **`stock_code`** (`str`) - 要删除的股票代码。

#### 响应状态码

| Code | Message (示例) | 描述 |
| :--- | :--- | :--- |
| `200` | `"删除成功"` | 股票成功从自选股中删除。 |
| `404` | *Traceback* | 异常错误。 |

---

### 🧹 4. 清空所有自选股 (`/clear_fav_stock`)

| 属性 | 描述 |
| :--- | :--- |
| **方法** | `POST` |
| **路径** | `/v1/stock/clear_fav_stock` |
| **功能** | 清空指定用户的所有自选股列表。 |

#### 请求体

* **参数类型**: **查询参数或请求体字段** (接收一个名为 `user_name` 的参数)。
* **字段**: **`user_name`** (`str`) - 用户名。

#### 响应状态码

| Code | Message (示例) | 描述 |
| :--- | :--- | :--- |
| `200` | `"删除成功"` | 所有自选股成功清空。 |
| `404` | *Traceback* | 异常错误。 |
