> 写在前面：”文本RAG“是我之前整理的项目，主要基于ES管理的数据，现在我正在尝试将其扩展为“多模态RAG”，因此会有相关的对比
# 【作业1】：多模态RAG接口设计
详细内容见：多模态RAG扩展计划-API设计.md
# 【作业2】：对多模态RAG的项目，如果用户使用【文本】提问 vs 【文本 + 图】提问，你会怎么处理？有什么区别？


| 方面         | 纯文本提问（文本RAG）          | 纯文本提问（多模态RAG）                    | 图文混合提问                                  |
| ---------- | --------------------- | -------------------------------- | --------------------------------------- |
| **API入口**​ | `POST /api/v1/search` | `POST /api/v1/multimodal/search` | `POST /api/v1/multimodal/search/hybrid` |
| **检索引擎**​  | Elasticsearch         | Milvus向量库                        | Milvus多集合                               |
| **向量模型**​  | DashScope API         | BGE/CLIP本地模型                     | CLIP双编码                                 |
| **检索模式**​  | BM25 + KNN混合          | 5种模式可选                           | 强制multimodal混合                          |
| **结果类型**​  | 纯文本chunks             | 图文混合结果                           | 图文深度融合                                  |
| **融合算法**​  | DashScope重排序          | RRF算法                            | 加权融合+可选重排序                              |
| **配置复杂度**​ | 简单                    | 中等（需选search_mode）                | 复杂（权重可调）                                |
### 关键区别总结

1. **检索深度不同**
    - **文本提问**：主要在语义层面匹配
    - 图文混合**：同时进行视觉和语义匹配
2. **结果丰富度不同**
    - **文本RAG**：返回文本片段+来源
    - **多模态text2image**：返回图片+关联文本说明
    - **图文混合**：返回最相关的图文组合块
3.  **使用场景不同**
    - **文本提问**：传统知识检索
    - 图文混合**：需要结合具体视觉内容的复杂查询
    
## 【作业3】对多模态RAG的项目，milvus如果要存储文本、图、表，数据结构如何设计？


|集合名称|存储内容|向量类型|维度|对应的MySQL表|
|---|---|---|---|---|
|`mm_text_bge`|文本块语义向量|BGE文本向量|512|`multimodal_text_blocks`|
|`mm_text_clip`|文本块跨模态向量|CLIP文本向量|512|`multimodal_text_blocks`|
|`mm_image_clip`|图片视觉向量|CLIP图像向量|512|`document_images`|
|`mm_fused`|图文融合向量|融合向量|512|`multimodal_chunks`|
|`mm_table_vectors`|表格结构化向量|表格专用向量|512|`document_tables`|
