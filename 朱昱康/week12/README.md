# 项目背景

随着企业规模的不断扩大和业务复杂度的日益提升，企业内部信息孤岛问题日益凸显。员工在日常工作中需要频繁查询各类企业信息，包括但不限于：

- 制度规范：人事制度、财务流程、行政规定等
- 业务数据：产品信息、客户资料、项目文档
- 技术资料：API 文档、技术规范、操作手册
- 组织信息：部门架构、员工联系方式、职责分工

传统的信息查询方式存在响应慢、信息分散、准确性难以保证等问题，严重影响了员工的工作效率和决策质量。为此，我们构建了一个智能化的企业内部信息助手，通过统一的对话界面为员工提供准确、及时的信息服务。

# 项目任务

本项目是一个基于人工智能技术的企业内部信息助手系统，采用 MCP（Model Context Protocol）架构实现工具的模块化管理。系统构建了一个能够理解自然语言对话的智能交互平台，让员工可以通过日常语言方式提出信息查询需求。系统集成了多种信息资源和业务工具，通过统一的接口实现信息资源的整合与调用。

系统提供了灵活的工具调用机制和智能工具过滤功能，支持员工根据具体需求选择和使用特定的查询工具或业务工具。同时，系统具备良好的扩展性，能够随着企业业务发展而灵活增加新的功能模块和数据源，为企业长期数字化建设奠定坚实基础。

# 项目组成

```
┌─────────────────┐    ┌──────────────────┐    ┌─────────────────┐
│  Streamlit前端  │───▶│   智能意图识别   │───▶│  OpenAI Agent   │
└─────────────────┘    └──────────────────┘    └─────────────────┘
                              │                         │
                              ▼                         ▼
                    ┌──────────────────┐    ┌─────────────────┐
                    │  工具类别选择器  │◀──▶│   MCP服务器集群  │
                    └──────────────────┘    └─────────────────┘
                              │                         │
                              ▼                         ▼
                    ┌──────────────────┐    ┌─────────────────┐
                    │  新闻服务器(8901) │    │  工具服务器(8902) │
                    │  名言服务器(8903) │    │  情感服务器(8904) │
                    └──────────────────┘    └─────────────────┘
```

# 核心功能

1. **智能工具过滤**：根据用户输入的意图自动选择合适的工具类别

   - 新闻工具：获取今日要闻、热点新闻等
   - 实用工具：天气查询、汇率转换、地址解析等
   - 名言工具：获取励志名言、每日格言等
   - 情感分析：分析文本情感倾向和强度

2. **模块化架构**：采用 MCP 协议实现工具的模块化管理，便于扩展和维护

3. **流式对话**：支持实时流式输出，提供良好的用户体验

4. **多模型支持**：支持多种大语言模型（如通义千问系列）

# 项目结构

```
企业职能助手/
├── steamlit_demo.py          # Streamlit前端界面
├── mcp_server/              # MCP服务器目录
│   ├── mcp_server_main.py    # 主服务器和分类服务器
│   ├── start_all_servers.py  # 服务器启动脚本
│   ├── news.py               # 新闻工具模块
│   ├── tool.py               # 实用工具模块
│   ├── saying.py             # 名言工具模块
│   └── sentiment_analysis.py # 情感分析工具模块
├── test_tool_filter.py       # 工具过滤功能测试脚本
├── TOOL_FILTER_README.md     # 工具过滤功能使用说明
└── README.md                 # 项目说明文档
```

# 使用方法

1. 启动 MCP 服务器：

   ```bash
   cd mcp_server
   python start_all_servers.py
   ```

2. 启动前端界面：

   ```bash
   streamlit run steamlit_demo.py
   ```

3. 在界面中配置 API Token 并开始使用
