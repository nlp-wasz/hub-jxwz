# 【作业二】文本提问 vs 文本 + 图提问

按照【作业一】接口定义中的逻辑，针对两种提问方式采用不同的逻辑

一文本提问：

1.检索

①对文本内容使用 SearchRequest.encoder_model判断编码类型（clip、bge编码），之后再根据其对应milvus中的向量字段进行检索

②采用clip、bge两种编码方式，针对milvus中的两个向量字符分别检索

2.RAG流程

对检索结果进行多路融合排序（一种模型编码无需融合排序）--》 重排序  --》  Top_K

3.多模态模型问答

构建多模态提示词，通过调用Qwen-VL远程API 或者 本地Qwen-VL模型 生成回答



二：图文问答

1.检索

①对文本采用 【文本提问】方式中的编码方式

②对图片采用clip模型进行编码，提取特征向量，再从milvus中进行检索

2.RAG流程

对【文本检索】和【图片检索】结果进行多路融合排序--》 重排序  --》  Top_K

3.多模态模型问答

构建多模态提示词，通过调用Qwen-VL远程API 或者 本地Qwen-VL模型 生成回答