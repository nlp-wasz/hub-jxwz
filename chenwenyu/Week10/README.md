# Tasks
`task1.py` 理解3张图片
`task2.py` 从图片中提取文字
`task3.py` 使用中文clip模型,在flickr8k图文数据集上完成图文匹配
`task3.ipynb` jupyter notebook版
`01-CLIP模型_中文处理更新.ipynb` 复现CLIP模型，修改了中文处理部分

# Data 
pics/1_elephants_safari.jpg   for task1
pics/2_seal_on_rock.jpg     for task1
pics/3_sheeps_on_grassland.jpg for task1
pics/text.jpg   for task2
../flickr8k for task3

# logs
`python3 task1.py`
🚀 Qwen2-VL 图片分析工具
开始分析 ./pics 目录中的图片...
找到 3 张图片，开始加载模型...
模型加载成功！

==================================================
分析第 1 张图片: 1_elephants_safari.jpg
==================================================
正在分析中...
分析完成 (耗时: 26.74秒)

分析结果:
这张图片展示了一群大象在草原上。以下是详细的分析：

1. **主要物体**：
   - 大象：图片中有三只大象，其中两只成年大象和一只幼象。成年大象有明显的象牙，幼象体型较小，没有象牙。
   - 草原：背景是一片广阔的草原，草地上覆盖着高高的草丛。
   - 树木：背景中有几棵树木，树冠茂密，树叶呈绿色。

2. **场景类型**：
   - 自然景观：这张图片展示了一个自然的野生动物场景，主要是在草原上。

3. **颜色和氛围**：
   - 颜色：主要颜色是绿色（草和树叶）、棕色（大象和土地）、白色（象牙）和灰色（天空）。
   - 氛围：图片给人一种宁静和自然的感觉，大象在草原上自由地活动，背景的树木和天空增添了自然的氛围。

4. **其他显著特征**：
   - 大象的互动：成年大象似乎在引导或保护幼象，显示出一种家庭式的互动。
   - 草原的广阔：草原的广阔和高高的草丛给人一种开放和自由的感觉。
   - 树木的分布：背景中的树木分布均匀，为大象提供了遮荫和休息的地方。

这张图片捕捉到了大象在自然环境中的一个宁静时刻，展示了它们在草原上的生活。

--------------------------------------------------

==================================================
分析第 2 张图片: 1_seal_on_rock.jpg
==================================================
正在分析中...
分析完成 (耗时: 27.60秒)

分析结果:
这张图片展示了一群海象在北极地区的海滩上休息的场景。以下是详细的分析：

1. **主要物体**：
   - 海象：图片中有几只海象，它们的身体呈现出深棕色或灰色，皮肤看起来很厚实，适合寒冷的环境。
   - 海滩：海象们躺在沙滩上，沙滩的颜色是浅棕色或米色。
   - 海浪和海洋：背景中可以看到海浪拍打着海岸，海水呈现出深蓝色。

2. **场景类型**：
   - 北极地区：图片背景中的山脉和冰川表明这是一个北极地区的场景。
   - 海滩：海象们在海滩上休息，海滩上有一些岩石和沙子。

3. **颜色和氛围**：
   - 颜色：主要颜色包括深棕色（海象）、浅棕色（沙滩）、深蓝色（海水）和灰色（天空）。
   - 氛围：图片给人一种宁静和自然的感觉，海象们看起来很放松，背景中的山脉和冰川增加了场景的壮丽感。

4. **其他显著特征**：
   - 海象的特征：海象有强壮的牙齿和厚实的皮肤，适合在寒冷的环境中生存。
   - 海浪和海洋：海浪拍打着海岸，显示出海洋的动态和力量。
   - 山脉和冰川：背景中的山脉和冰川增加了场景的地理多样性，显示出北极地区的独特景观。

这张图片捕捉到了北极地区海象在自然环境中的宁静时刻，展示了它们与环境的和谐共存。

--------------------------------------------------

==================================================
分析第 3 张图片: 1_sheeps_on_grassland.jpg
==================================================
正在分析中...
分析完成 (耗时: 26.02秒)

分析结果:
这张图片展示了一片宁静的草地场景，主要物体是一群羊在草地上吃草。以下是详细的分析：

1. **主要物体**：
   - 羊：图片中有几只羊，它们分散在草地上，正在吃草。
   - 草地：背景是一片广阔的草地，颜色主要是绿色，有些地方有黄色的草丛。
   - 水体：远处可以看到一片水域，可能是湖泊或河流。

2. **场景类型**：
   - 这是一个乡村或农村的场景，典型的放牧场景。

3. **颜色和氛围**：
   - 颜色主要是绿色和黄色，草地和草丛的颜色不同，显示出自然的层次感。
   - 氛围显得非常宁静和平静，阳光柔和，给人一种温暖和放松的感觉。

4. **其他显著特征**：
   - 草地上的羊群大小不一，有的在吃草，有的在休息。
   - 背景中的水域反射着天空的颜色，增加了画面的深度。
   - 整体画面给人一种自然和谐的感觉，展示了乡村生活的宁静之美。

这张图片通过细腻的色彩和构图，成功地捕捉到了一个宁静的乡村放牧场景，让人感受到大自然的美丽和宁静。

--------------------------------------------------

🎉 所有图片分析完成！

`python3 task2.py`
提取的文字: 选择北外的 N个理由

1. 精英教育从未扩招
2. 就业薪资全国前五
3. 小姐姐都优雅漂亮
4. 小哥哥都帅气阳光
5. 校园软硬设施精良
6. 国际化的教学环境
7. 多语种个性化选择
8. 全球化的视野格局
9. 继续深造机遇良多

`python3 task3.py`
✅ 使用设备: cuda
✅ 样本数量: 5000
Epoch done. Loss=0.6279
✅ 模型保存到 ./clip_finetuned_flickr8k
📝 文本: 'A man playing guitar'
🏞️ 最相似图片: ../flickr8k/Flicker8k_Dataset/1007129816_e794419615.jpg
🔢 相似度: 0.2695
------------------------------------------------------------
📝 文本: 'A dog running in the park'
🏞️ 最相似图片: ../flickr8k/Flicker8k_Dataset/1020651753_06077ec457.jpg
🔢 相似度: 0.2917
------------------------------------------------------------
📝 文本: 'A group of people sitting on grass'
🏞️ 最相似图片: ../flickr8k/Flicker8k_Dataset/1022454428_b6b660a67b.jpg
🔢 相似度: 0.2698
------------------------------------------------------------
